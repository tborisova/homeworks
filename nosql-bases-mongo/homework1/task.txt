use homework1
db.jokes.insert({author: "Господин Бъзик", text: "Бил Гейтс казал на жена си:
­ Вчера ходих до банката за заем.
­ Чакай, за какво ти е на теб заем?
­ Не на мен. На банката…", rating: 6, characters: ["Бил Гейтс"]})

db.jokes.insert({author: "Дъмбълдор", text: "Хари се връща от Забранената гора и казва на Рон: Събрах гъбки за професор Снейп. Рон: А ако са отровни? Хари: Какво значи 'ако'?", rating: 10, characters: ["Хари Потър", "Снейп", "Рон Уизли"]})

db.jokes.insert({author: "Студент", text: "Двама студенти си говорят: Как мислиш, математическият анализ наука, ли е? Не е, ако беше наука щяха най-напред да го опитват върху животни.", rating: 8, characters: ["студенти"]})

db.jokes.insert({author: "Господин Бъзик", text: "Една учителка казала на Иванчо:  Ти защо си написал \"къшта\"? Я излез на дъската и напиши думата двайсет пъти както трябва, за да я запомниш за цял живот!
След минутка учителката се обърнала и видяла на черната дъска:
@Repeat(\"къща\";20)", rating: 9, characters: ["Иванчо", "учителката"]})

db.jokes.insert({author: "Дъмбълдор", text: "Рон влиза в магазина Трите Метли и дава банкнота от Монополи и казва:  Един плюшен Виктор Крум.   Момче, това не са истински пари!   То и Крум не е истински, ама някой казва ли ви го?", rating: 7, characters: ["Виктор Крум", "Рон Уизли"]})

db.users.insert({
name: "Господин Бъзик",
email: "joke_master@abv.bg",
likes: [ "Бил Гейтс", "Чък Норис", "Чапай", "Петка" ]
})

db.users.insert({
name: "Дъмбълдор",
email: "dubmbledore@hogwarts.com",
likes: [ "Severus Snape", "James Potter" ]
})

db.users.insert({
name: "Студент",
email: "example3@abv.bg",
likes: [ "Хари Потър", "Чък Норис" ]
})

db.jokes.update({author: "Дъмбълдор"}, {$set: {"black_humor": true}}, {multi:true})

db.jokes.find({characters:{$in: ["Бил Гейтс", "Рон Уизли"]}}).sort({rating: 1})

db.jokes.remove({rating: {$lte: 7}})

db.jokes.count({author: "Господин Бъзик"})